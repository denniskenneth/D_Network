{% extends "network/layout.html" %} {% block body %}
<div class="container py-2 px-4" id="index">
  <h1 class="text-center">All Post</h1>
  {% if user.is_authenticated %}
  <form class="bg-light" action="{% url 'index' %}" method="post" id="new_post" class="card">
    {% csrf_token %}
    <div class="form-group">
      <textarea
        class="form-control"
        id="exampleFormControlTextarea1"
        name="content"
        rows="3"
        placeholder="Enter Post"
      ></textarea>
    </div>
    <input class="btn btn-primary" type="submit" value="Post" />
  </form>
  {% endif %}
  <div id="posts" class="  d-flex flex-column">
    
    {% for post in page_posts %}
    <div class="bg-light card mt-3">
      <div class="card-body">
        <div class="d-flex justify-content-between">
          <h4>
            <a href="{% url "profile" post.user.id %}">{{post.user.username | title}}</a>
            <span class="text-muted">{{ post.timestamp|date:"F d, Y, H:i a" }}</span>
            
          </h4>
          {% if post.user == user %}
            <button type="button" id="edit_btn" class="btn btn-dark">Edit</button>
            {% endif %}
        </div>
        <div id="cardContent">
          <p id="postContent" class="card-text">{{post.content}}</p>

          <a href="#" class="red-link"><i class="fa-regular fa-heart"></i></a>
          <span class="ml-1">0</span>
        </div>
        <div id="postEditForm" class="bg-light hide my-3"   class="card">


            <textarea
              class="form-control"
              id="postEditTxtAra"
              name="content"
              rows="3"
              placeholder="Edit Post"
            ></textarea>
          
        </div>

      </div>
    </div>
    
    {% endfor %}

    <nav aria-label="Page navigation example" class="mt-3 d-flex justify-content-center">
      <ul class="pagination">
        {% if page_posts.has_previous %}
          <li class="page-item"><a class="page-link text-dark" href="?page={{page_posts.previous_page_number}} ">Previous</a></li>
        {% endif %}
        
        {% if page_posts.has_next %}
          <li class="page-item"><a class="page-link text-dark" href="?page={{page_posts.next_page_number}} ">Next</a></li>
        {% endif %}
      </ul>
    </nav>
  </div>
</div>
{% endblock %}
